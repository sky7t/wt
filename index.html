<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Tracker</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèãÔ∏è‚Äç‚ôÇÔ∏è</text></svg>">
    <!-- Bootstrap CSS from CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body { background-color: #f8f9fa; }
        .container { max-width: 960px; }
        .table th, .table td { vertical-align: middle; }
        #import-json-input { display: none; }
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body>

    <div class="container py-5">
        <header class="text-center mb-5">
            <h1 class="display-5">üèãÔ∏è‚Äç‚ôÇÔ∏è Minimalist Workout Tracker</h1>
            <p class="lead text-muted">Log your Upper and Lower Body workouts here. Data is saved automatically.</p>
        </header>

        <!-- Upper Body Workout Table -->
        <div class="card shadow-sm mb-5" id="upper-body-card">
            <div class="card-header"><h3 class="my-2">üí™ Upper Body Workout</h3></div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <thead class="table-dark">
                            <tr><th>Exercise</th><th>Set 1 (kg/reps)</th><th>Set 2 (kg/reps)</th><th>Set 3 (kg/reps)</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Chest Press</strong><br><small class="text-muted">Chest, Shoulders, Triceps</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Chest Press Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Chest Press Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Chest Press Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Chest Press Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Chest Press Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Chest Press Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                            <tr>
                                <td><strong>Lat Pulldown</strong><br><small class="text-muted">Back, Biceps</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Lat Pulldown Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Lat Pulldown Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Lat Pulldown Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Lat Pulldown Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Lat Pulldown Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Lat Pulldown Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                            <tr>
                                <td><strong>Shoulder Press</strong><br><small class="text-muted">Shoulders, Triceps</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Shoulder Press Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Shoulder Press Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Shoulder Press Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Shoulder Press Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Shoulder Press Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Shoulder Press Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                            <tr>
                                <td><strong>Seated Row</strong><br><small class="text-muted">Back</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Row Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Row Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Row Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Row Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Row Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Row Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                            <tr>
                                <td><strong>Biceps Curl</strong><br><small class="text-muted">Biceps</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Biceps Curl Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Biceps Curl Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Biceps Curl Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Biceps Curl Set 2 Reps" inputmode="decimal"></div></td>
                                <td><!-- 2 Sets Only --></td>
                            </tr>
                            <tr>
                                <td><strong>Triceps Press</strong><br><small class="text-muted">Triceps</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Triceps Press Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Triceps Press Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Triceps Press Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Triceps Press Set 2 Reps" inputmode="decimal"></div></td>
                                <td><!-- 2 Sets Only --></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Lower Body Workout Table -->
        <div class="card shadow-sm mb-5" id="lower-body-card">
            <div class="card-header"><h3 class="my-2">ü¶µ Lower Body & Core Workout</h3></div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <thead class="table-dark">
                             <tr><th>Exercise</th><th>Set 1 (kg/reps)</th><th>Set 2 (kg/reps)</th><th>Set 3 (kg/reps)</th></tr>
                        </thead>
                        <tbody>
                             <tr>
                                <td><strong>Leg Press</strong><br><small class="text-muted">Quads, Glutes, Hamstrings</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Leg Press Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Leg Press Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Leg Press Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Leg Press Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Leg Press Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Leg Press Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                            <tr>
                                <td><strong>Seated Leg Curl</strong><br><small class="text-muted">Hamstrings</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Leg Curl Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Leg Curl Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Leg Curl Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Leg Curl Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Leg Curl Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Leg Curl Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                            <tr>
                                <td><strong>Leg Extension</strong><br><small class="text-muted">Quads</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Leg Extension Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Leg Extension Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Leg Extension Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Leg Extension Set 2 Reps" inputmode="decimal"></div></td>
                                <td><!-- 2 Sets Only --></td>
                            </tr>
                            <tr>
                                <td><strong>Seated Calf Raise</strong><br><small class="text-muted">Calves</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Calf Raise Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Calf Raise Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Calf Raise Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Calf Raise Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Seated Calf Raise Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Seated Calf Raise Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                            <tr>
                                <td><strong>Ab Machine</strong><br><small class="text-muted">Abdominals</small></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Ab Machine Set 1 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Ab Machine Set 1 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Ab Machine Set 2 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Ab Machine Set 2 Reps" inputmode="decimal"></div></td>
                                <td><div class="d-flex flex-column flex-sm-row gap-1"><input type="number" class="form-control" placeholder="kg" aria-label="Ab Machine Set 3 Weight" inputmode="decimal"><input type="number" class="form-control" placeholder="reps" aria-label="Ab Machine Set 3 Reps" inputmode="decimal"></div></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-center mt-4">
            <button class="btn btn-success btn-lg" onclick="exportToJson()">Export to JSON</button>
            <label for="import-json-input" class="btn btn-info btn-lg">Import from JSON</label>
            <input type="file" id="import-json-input" accept=".json" onchange="importFromJson(event)">
            <button class="btn btn-danger btn-lg" onclick="clearInputs()">Clear All Inputs</button>
        </div>

    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <!-- App Logic Script -->
    <script>
        const LOCAL_STORAGE_KEY = 'minimalistWorkoutData';

        /**
         * Reads all workout data from the input fields on the page.
         * @returns {object} An object containing upperBody and lowerBody workout data.
         */
        function getWorkoutDataFromPage() {
            const workoutData = { upperBody: [], lowerBody: [] };
            
            document.querySelectorAll('#upper-body-card tbody tr').forEach(row => {
                const inputs = row.querySelectorAll('input[type="number"]');
                const rowData = { 
                    set1: { weight: inputs[0]?.value || '', reps: inputs[1]?.value || '' },
                    set2: { weight: inputs[2]?.value || '', reps: inputs[3]?.value || '' },
                    set3: { weight: inputs[4]?.value || '', reps: inputs[5]?.value || '' }
                };
                workoutData.upperBody.push(rowData);
            });

            document.querySelectorAll('#lower-body-card tbody tr').forEach(row => {
                const inputs = row.querySelectorAll('input[type="number"]');
                const rowData = { 
                    set1: { weight: inputs[0]?.value || '', reps: inputs[1]?.value || '' },
                    set2: { weight: inputs[2]?.value || '', reps: inputs[3]?.value || '' },
                    set3: { weight: inputs[4]?.value || '', reps: inputs[5]?.value || '' }
                };
                workoutData.lowerBody.push(rowData);
            });
            return workoutData;
        }

        /**
         * Populates the input fields with data from a workout object.
         * @param {object} workoutData - The workout data object.
         * @param {boolean} showAlert - Whether to show an alert on success.
         */
        function populatePageWithData(workoutData, showAlert = false) {
            if (!workoutData || !workoutData.upperBody || !workoutData.lowerBody) {
                if (showAlert) alert("Import failed: Invalid data format.");
                return;
            }

            document.querySelectorAll('#upper-body-card tbody tr').forEach((row, index) => {
                const rowData = workoutData.upperBody[index];
                if (rowData) {
                    const inputs = row.querySelectorAll('input[type="number"]');
                    if(inputs.length > 0) inputs[0].value = rowData.set1.weight;
                    if(inputs.length > 1) inputs[1].value = rowData.set1.reps;
                    if(inputs.length > 2) inputs[2].value = rowData.set2.weight;
                    if(inputs.length > 3) inputs[3].value = rowData.set2.reps;
                    if(inputs.length > 4) inputs[4].value = rowData.set3.weight;
                    if(inputs.length > 5) inputs[5].value = rowData.set3.reps;
                }
            });
            
            document.querySelectorAll('#lower-body-card tbody tr').forEach((row, index) => {
                const rowData = workoutData.lowerBody[index];
                if (rowData) {
                    const inputs = row.querySelectorAll('input[type="number"]');
                    if(inputs.length > 0) inputs[0].value = rowData.set1.weight;
                    if(inputs.length > 1) inputs[1].value = rowData.set1.reps;
                    if(inputs.length > 2) inputs[2].value = rowData.set2.weight;
                    if(inputs.length > 3) inputs[3].value = rowData.set2.reps;
                    if(inputs.length > 4) inputs[4].value = rowData.set3.weight;
                    if(inputs.length > 5) inputs[5].value = rowData.set3.reps;
                }
            });
            if (showAlert) alert('Workout data loaded successfully!');
        }
        
        /**
         * Saves the current workout data to the browser's local storage.
         */
        function saveToLocalStorage() {
            const workoutData = getWorkoutDataFromPage();
            localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(workoutData));
        }

        /**
         * Loads workout data from local storage and populates the page.
         */
        function loadFromLocalStorage() {
            const savedDataJSON = localStorage.getItem(LOCAL_STORAGE_KEY);
            if (savedDataJSON) {
                try {
                    const workoutData = JSON.parse(savedDataJSON);
                    populatePageWithData(workoutData, false); // Populate silently
                } catch (error) {
                    console.error("Error parsing data from local storage:", error);
                    localStorage.removeItem(LOCAL_STORAGE_KEY); // Clear corrupted data
                }
            }
        }

        /**
         * Exports the current workout data to a JSON file.
         */
        function exportToJson() {
            const workoutData = getWorkoutDataFromPage();
            const dataStr = JSON.stringify(workoutData, null, 2);
            const blob = new Blob([dataStr], { type: "application/json" });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `workout-${new Date().toISOString().slice(0, 10)}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        /**
         * Imports workout data from a selected JSON file.
         * @param {Event} event - The file input change event.
         */
        function importFromJson(event) {
            const file = event.target.files[0];
            if (!file) { return; }

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const workoutData = JSON.parse(e.target.result);
                    populatePageWithData(workoutData, true);
                    saveToLocalStorage(); // Save imported data to make it persistent
                } catch (error) {
                    alert("Error parsing JSON file: " + error.message);
                }
            };
            reader.readAsText(file);
            event.target.value = null; // Reset file input
        }

        /**
         * Clears all input fields and the saved data in local storage.
         */
        function clearInputs() {
            if (confirm("Are you sure you want to clear all weights and reps? This will also clear your auto-saved data.")) {
                document.querySelectorAll('input[type="number"]').forEach(input => input.value = '');
                saveToLocalStorage(); // Save the cleared state
            }
        }

        // --- Initializer ---
        // Runs when the page content has finished loading.
        document.addEventListener('DOMContentLoaded', () => {
            // Load data from local storage on page load
            loadFromLocalStorage();

            // Add event listeners to all number inputs to auto-save on change
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.addEventListener('input', saveToLocalStorage);
            });
        });
    </script>
</body>
</html>
